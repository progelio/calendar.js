var calendar=function(){function u(n){return document.querySelector(n)}function n(n,t,i,r){var f=document.createElement(n),u;(i||i===0)&&(f.innerHTML=i);for(u in t)f.setAttribute(u,t[u]);for(u in r)f.addEventListener(u,r[u]);return f}function s(n){var i=new Date(n.target.title);"value"in t?t.value=i.toLocaleDateString():t.innerHTML=i.toLocaleDateString();f()}function f(){r&&(r.parentNode.removeChild(r),r=null)}function h(n){n.target.innerHTML=="‹"?i.setFullYear(i.getFullYear()-1):i.setFullYear(i.getFullYear()+1);e()}function c(n){n.target.innerHTML=="‹"?i.setMonth(i.getMonth()-1):i.setMonth(i.getMonth()+1);e()}function w(t){var f=t.getFullYear(),u=t.getMonth(),w=new Date(f,u,1).getDay(),r=new Date(f,u,-w+1),e=new Date,i,l,a,v;for(e.setHours(0,0,0,0),i=n("div",{"class":"calendar"}),i.appendChild(n("div",{"class":"btn"},"‹",{click:h})),i.appendChild(n("div",{"class":"year"},f)),i.appendChild(n("div",{"class":"btn"},"›",{click:h})),i.appendChild(n("hr")),i.appendChild(n("div",{"class":"btn"},"‹",{click:c})),i.appendChild(n("div",{"class":"month"},p[u])),i.appendChild(n("div",{"class":"btn"},"›",{click:c})),i.appendChild(n("hr")),y.forEach(function(t){i.appendChild(n("div",{"class":"day header"},t))}),i.appendChild(n("hr")),l=0;l<6;l++){for(a=0;a<7;a++)v=(r.getMonth()==u?"day":"day other")+(+e==+r?" today":"")+(+o==+r?" selected":""),i.appendChild(n("div",{title:r.toDateString(),"class":v},r.getDate(),{click:s})),r.setDate(r.getDate()+1);i.appendChild(n("hr"))}return i.appendChild(n("div",{"class":"today-btn",title:e.toDateString()},"Today",{click:s})),i}function b(n){t=typeof n=="string"?u(n):n;var r=new Date(t.value||t.innerHTML);r instanceof Date&&r.valueOf()&&(i=r,o=new Date(r.toDateString()));e()}function e(){f();r=w(i);r.style.marginLeft=-t.offsetWidth+"px";r.style.marginTop=t.offsetHeight+4+"px";t.parentNode.insertBefore(r,t.nextSibling);document.addEventListener("click",f,!0)}var o=new Date,i=new Date,t,r,y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],l="calendarCss",a,v;return u(l)||(a=".calendar{border:solid 1px #fff;box-shadow:0px 0px 3px 1px #666;padding:1em;font-family:arial;background:#fff;border-radius:0.3em;display:inline-block;white-space:nowrap;position:absolute;z-index:1}.calendar div{text-align:center;padding:0.2em;display:inline-block;user-select:none;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.calendar .day{width:2.5em;cursor:pointer;color:#000;border:solid 1px #fff;border-radius:0.2em;box-sizing:border-box;padding:0.3em}.calendar .day:hover{color:#057eff;border-color:#057eff}.calendar .other{color:#bbb}.calendar .btn{cursor:pointer;font-size:1em;width:25%;box-sizing:border-box;border-radius:0.2em;border:solid 1px #fff}.calendar .btn:hover{border-color:#057eff;color:#057eff}.calendar .year, .calendar .month{width:50%;box-sizing:border-box}.calendar .header{cursor:auto;color:#057eff;margin:0.8em 0;border:#fff}.calendar .today-btn{background:#057eff;cursor:pointer;color:#fff;display:block;padding:0.3em;border-radius:0.2em}.calendar .today-btn:hover{background:#0069d8}.calendar .today{background:#057eff;color:#fff !important}.calendar .selected{border-color:#f00;color:#f00}.calendar hr{visibility:hidden;margin:0}",v=n("style",{id:l,style:"text/css"},a),u("head").appendChild(v)),{show:b}}();
